// Code generated by tools/genCURD. DO NOT EDIT.

package data

import (
	"context"
	"github.com/pancake-lee/pgo/internal/pkg/db"
	"github.com/pancake-lee/pgo/internal/pkg/db/model"
	"github.com/pancake-lee/pgo/internal/pkg/perr"
	"github.com/pancake-lee/pgo/pkg/plogger"
)

type UserDeptAssocDO = model.UserDeptAssoc

type userDeptAssocDAO struct{}

var UserDeptAssocDAO userDeptAssocDAO

func (*userDeptAssocDAO) Add(ctx context.Context, userDeptAssoc *UserDeptAssocDO) error {
	if userDeptAssoc == nil {
		return plogger.LogErr(perr.ErrParamInvalid)
	}
	q := db.GetPG().UserDeptAssoc
	err := q.WithContext(ctx).Create(userDeptAssoc)
	if err != nil {
		return plogger.LogErr(err)
	}
	return nil
}

func (*userDeptAssocDAO) GetAll(ctx context.Context,
) (userDeptAssocList []*UserDeptAssocDO, err error) {
	q := db.GetPG().UserDeptAssoc
	userDeptAssocList, err = q.WithContext(ctx).Find()
	if err != nil {
		return nil, plogger.LogErr(err)
	}
	return userDeptAssocList, nil
}

